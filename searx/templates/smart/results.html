{% from 'smart/icons.html' import icon_small %} {% extends "smart/base.html" %}
{% block title %}{% if query_in_title %} - {{ q|e }}{% endif %}{% endblock %} {%
block body %} {% include 'smart/madules/search_header.html' %}
<div class="links">
    <a href="" class="link">{{icon_small('donate')}}</a>
    {% include 'smart/madules/sidebar_btn.html' %}
</div>
<div
    class="results-container {% if results and results|map(attribute='template')|unique|list|count and 'images.html' in results|map(attribute='template')|unique|list %} image-page {% endif %}"
>
    {% if answers %}
    <div class="answer-container">
        <div class="title">
            {{ icon_small('plugin') }}
            <h3>{{ _('Answers by Plugins and Engines') }}</h3>
        </div>
        {%- for answer in answers -%}
        <div class="message-box">
            {% if answer.template != "answer/legacy.html" %} {%- include
            ("simple/" + (answer.template)) -%} {% else %}
            <p class="message">{{ answer.answer }}</p>
            {%- if answer.url -%}
            <div class="reference">
                Based on
                <a
                    href="{{ answer.url }}"
                    {%-
                    if
                    results_on_new_tab
                    %}target="_blank"
                    rel="noopener noreferrer"
                    {%-
                    else
                    -%}rel="noreferrer"
                    {%-
                    endif
                    -%}
                    >{{ urlparse(answer.url).hostname }}</a
                >
            </div>
            {% endif %} {% endif %}
        </div>
        {%- endfor -%}
    </div>
    {% endif %} {% for result in results %} {% if result.open_group and not
    is_image_page %}
    <div
        class="{{ result['template']|replace('.html', '') }}_group result-group"
    >
        {% endif %} {% set template = get_result_template('smart',
        result['template']) if 'smart' in get_result_template('smart',
        result['template']) else get_result_template('smart', 'default.html') %}
        {% include template %} {% if result.close_group and not is_image_page %}
    </div>
    {% endif %} {% endfor %}
</div>
<div class="info-panel">
    {% if infoboxes %} {% include 'smart/madules/infoboxs.html' %} {% endif %}
</div>
{% if 'images.html' in results|map(attribute='template')|unique|list%}
<div class="image-details-container">
    <div class="image-details" id="image-details">
        <img src=".." alt=".." id="image-src" />
        <div class="actions">
            <a
                href="..."
                class="btn primary"
                download="image.png"
                id="image-download"
            >
                Download
            </a>
            <button class="btn copy" id="image-copy">Copy</button>
        </div>
        <div class="detail-info">
            <h3 id="image-title">...</h3>
            <p class="description" id="image-content">...</p>
            <div class="meta">
                <div class="meta-item" id="image-format">
                    <span class="label">{{ _('Format') }}:</span>
                    <span class="value">...</span>
                </div>
                <div class="meta-item" id="image-filesize">
                    <span class="label">{{ _('Filesize') }}:</span>
                    <span class="value">...</span>
                </div>

                <a
                    href="..."
                    class="source"
                    id="image-source"
                    {%
                    if
                    results_on_new_tab
                    %}target="_blank"
                    rel="noopener noreferrer"
                    {%
                    else
                    %}rel="noreferrer"
                    {%
                    endif
                    %}
                >
                    {{ _('View source') }}
                </a>
            </div>
            <p class="engine">
                {{ _('Engine') }}
                <span class="engine-name" id="image-engine"></span>
            </p>
        </div>
    </div>
</div>
{% endif %} {% include 'smart/footer.html' %} {% endblock %}
