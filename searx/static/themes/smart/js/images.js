!function(){function e(e){return document.querySelector(e)}var t={};function i(e,t=100,a={}){let n,o,r,s,l;if("function"!=typeof e)throw TypeError(`Expected the first parameter to be a function, got \`${typeof e}\`.`);if(t<0)throw RangeError("`wait` must not be negative.");let{immediate:c}="boolean"==typeof a?{immediate:a}:a;function g(){let t=n,i=o;return n=void 0,o=void 0,l=e.apply(t,i)}function d(){let e=Date.now()-s;e<t&&e>=0?r=setTimeout(d,t-e):(r=void 0,c||(l=g()))}let m=function(...e){if(n&&this!==n&&Object.getPrototypeOf(this)===Object.getPrototypeOf(n))throw Error("Debounced method called with different contexts of the same prototype.");n=this,o=e,s=Date.now();let i=c&&!r;return r||(r=setTimeout(d,t)),i&&(l=g()),l};return Object.defineProperty(m,"isPending",{get:()=>void 0!==r}),m.clear=()=>{r&&(clearTimeout(r),r=void 0)},m.flush=()=>{r&&m.trigger()},m.trigger=()=>{l=g(),m.clear()},m}function a(t,{imageSrc:i,imageTitle:a,imageContent:n,imageSource:o,imageFilesize:r,imageDownload:s,formatSpan:l,filesizeSpan:c,engineSpan:g,previewImg:d}){e("#results").classList.add("image-open"),i.src="",d.src=t.getAttribute("data-gitee-thumbnail"),i.src=t.getAttribute("data-gitee-src"),a.innerText=t.getAttribute("data-gitee-title"),n.innerText=t.getAttribute("data-gitee-content"),t.hasAttribute("data-gitee-format")?l.innerText=t.getAttribute("data-gitee-format"):l.innerText="Unknown",t.hasAttribute("data-gitee-filesize")?(r.hasAttribute("hidden")&&r.setAttribute("hidden",""),c.innerText=t.getAttribute("data-gitee-filesize")):r.setAttribute("hidden",""),o.href=t.getAttribute("data-gitee-source"),s.href=t.getAttribute("data-gitee-src"),g.innerText=t.getAttribute("data-gitee-engine")}t.debounce=i,t=i,!function(){let i=e(".results-container");i&&i.nodeType===Node.ELEMENT_NODE&&i.classList.contains("image-page")&&function(i){var n;let o=e("#image-src"),r=e("#preview-img"),s=e("#image-title"),l=e("#image-content"),c=e("#image-format"),g=e("#image-filesize"),d=e("#image-source"),m=e("#image-download"),u=e("#image-copy"),p=c.getElementsByClassName("value")[0],f=g.getElementsByClassName("value")[0],h=e("#image-engine");new MutationObserver(e=>{for(let t of e)"childList"===t.type&&t.addedNodes.forEach(e=>{e instanceof HTMLElement&&e.classList.contains("images_group")&&e.childNodes.forEach(t=>t.addEventListener("click",t=>{t.preventDefault(),y(),e.classList.add("current-open"),e.scrollIntoView({behavior:"smooth",block:"nearest"}),a(e,{imageSrc:o,imageTitle:s,imageContent:l,imageSource:d,imageFilesize:g,imageDownload:m,filesizeSpan:f,formatSpan:p,engineSpan:h,previewImg:r})}))})}).observe(i,{childList:!0,subtree:!0}),document.querySelectorAll(".image").forEach(e=>{"A"===e.tagName&&e instanceof HTMLElement&&e.addEventListener("click",t=>{t.preventDefault(),y(),e.classList.add("current-open"),e.scrollIntoView({behavior:"smooth",block:"nearest"}),a(e,{imageSrc:o,imageTitle:s,imageContent:l,imageSource:d,imageFilesize:g,imageDownload:m,filesizeSpan:f,formatSpan:p,engineSpan:h,previewImg:r})})}),"http:"===location.protocol&&u.setAttribute("disabled","true"),u.addEventListener("click",()=>{let e=document.createElement("canvas");e.width=o.width,e.height=o.height,e.getContext("2d").drawImage(o,0,0,o.width,o.height),e.toBlob(e=>{e&&function(e){if(navigator.clipboard&&e instanceof ClipboardItem){navigator.permissions.query({name:"clipboard-write"}).then(t=>{"granted"===t.state||"prompt"===t.state?navigator.clipboard.write([e]):alert("Clipboard unaccessible")});return}if("string"!=typeof e)return;let t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}(new ClipboardItem({"image/png":e}))}),e.remove()});let b=e("#results"),v=e("#image-details");function y(){let e=i.getElementsByClassName("current-open")[0];e&&e.classList.remove("current-open")}b.addEventListener("scroll",((n=t)&&n.__esModule?n.default:n)(function(){if(b.scrollTop<50){v.style.top="0px",v.style.height="80vh";return}v.style.height="95vh",v.style.top=`calc(${b.scrollTop}px - 15vh)`},500)),v.getElementsByClassName("close")[0].addEventListener("click",function(){y(),b.classList.remove("image-open")})}(i)}()}();